<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Floating Seva Bot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="user_chat_interface.css">
</head>
<body>

<button id="chatbot-toggle"><img src="images/chat-icon.png" alt="??" class="chat-icon" /></button>

<div id="chat-container">
  <!-- Name Prompt -->
  <div id="name-prompt" class="prompt-box">
    <div class="prompt-header">
      <div class="bot-avatar"><img src="images/logo.jpg" alt="Bot Avatar" class="bot-avatar" /></div>
      <div>
        <h3 class="prompt-title">Welcome to E-invite</h3>
        <p class="prompt-subtitle">Your Virtual Assistant</p>
      </div>
    </div>
    <div class="prompt-content">
      <label for="nameInput" class="prompt-label">What's your name?</label>
      <input id="nameInput" type="text" placeholder="Enter your name..." />
      <button onclick="startChat()">Next</button>
    </div>
  </div>

  <!-- Email Prompt -->
  <div id="email-prompt" class="prompt-box" style="display:none;">
    <div class="prompt-header">
      <div class="bot-avatar"><img src="images/logo.jpg" alt="Bot Avatar" class="bot-avatar" /></div>
      <div>
        <h3 class="prompt-title">Email Required</h3>
        <p class="prompt-subtitle">We'll keep you updated</p>
      </div>
    </div>
    <div class="prompt-content">
      <label for="emailInput" class="prompt-label">Please enter your email:</label>
      <input id="emailInput" type="email" placeholder="Your email..." />
      <button onclick="submitEmail()">Submit Email</button>
    </div>
  </div>

  <!-- Location Prompt -->
  <div id="location-prompt" class="prompt-box" style="display:none;">
    <div class="prompt-header">
      <div class="bot-avatar">üìç</div>
      <div>
        <h3 class="prompt-title">Location Access</h3>
        <p class="prompt-subtitle">For better assistance</p>
      </div>
    </div>
    <div class="prompt-content">
      <label class="prompt-label">Please share your location for personalized service:</label>
      <button onclick="getLocation()">Share Location</button>
      <button onclick="skipLocation()" style="background: #6b7280;">Skip for Now</button>
      <p id="location-status"></p>
    </div>
  </div>

  <!-- Main Chat Interface -->
  <div id="chat" class="chat-bot-bg">
    <div class="chat-header">
      <div class="bot-avatar"><img src="images/logo.jpg" alt="Bot Avatar" class="bot-avatar"></div>
      <div>
        <h3 class="bot-title" style="color: white; margin: 0px; padding: 0px;" >Welcome to E-invite</h3>
        <p class="bot-subtitle">Your Virtual Assistant</p>
      </div>
    </div>

    <div id="messages" class="chat-messages"></div>

<hr style="width: 85%; margin-left: 20px; border: 1px solid #ebebeb;
" >
    <div class="input-row">
      <input id="input" type="text" placeholder="Type your message..." />
    </div>
    <div style="text-align: end; padding: 0 5px 5px 0; background-color: white;">
     <input type="file" id="imageUpload" accept="image/*" style="display:none;" onchange="uploadImage()">
      <button id="chat-btn" class="upload-button" onclick="document.getElementById('imageUpload').click()" title="Upload Image">üîó</button>
      <button id="emoji-btn" class="">‚ù§Ô∏é</button>
      <button id="chat-btn" class="send-button" onclick="sendMsg()" title="Send Message">‚û§</button>
</div>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>

<script src="user_chat_interface.js"></script>
</body>
</html>